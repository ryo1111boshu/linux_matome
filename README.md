<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [Linux学習まとめ](#linux%E5%AD%A6%E7%BF%92%E3%81%BE%E3%81%A8%E3%82%81)
  - [新しいLinuxの教科書まとめ](#%E6%96%B0%E3%81%97%E3%81%84linux%E3%81%AE%E6%95%99%E7%A7%91%E6%9B%B8%E3%81%BE%E3%81%A8%E3%82%81)
    - [calコマンド](#cal%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [manコマンド](#man%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [システムの終了](#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%81%AE%E7%B5%82%E4%BA%86)
    - [ファイルの属性情報](#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%B1%9E%E6%80%A7%E6%83%85%E5%A0%B1)
    - [catコマンド](#cat%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [lessコマンド](#less%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [iノード](#i%E3%83%8E%E3%83%BC%E3%83%89)
    - [ハードリンク](#%E3%83%8F%E3%83%BC%E3%83%89%E3%83%AA%E3%83%B3%E3%82%AF)
    - [lnコマンド](#ln%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [シンボリックリンク](#%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF)
    - [ハードリンクとシンボリックリンクの違い](#%E3%83%8F%E3%83%BC%E3%83%89%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%A8%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AE%E9%81%95%E3%81%84)
    - [cpコマンド](#cp%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [mvコマンド](#mv%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [mkdirコマンド](#mkdir%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [ディレクトリのコピーと移動](#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E3%82%B3%E3%83%94%E3%83%BC%E3%81%A8%E7%A7%BB%E5%8B%95)
    - [ディレクトリの削除](#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E5%89%8A%E9%99%A4)
    - [gzipコマンド](#gzip%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [gunzipコマンド](#gunzip%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89)
    - [ディレクトリの圧縮](#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E5%9C%A7%E7%B8%AE)
      - [アーカイブの作成](#%E3%82%A2%E3%83%BC%E3%82%AB%E3%82%A4%E3%83%96%E3%81%AE%E4%BD%9C%E6%88%90)
      - [アーカイブの展開](#%E3%82%A2%E3%83%BC%E3%82%AB%E3%82%A4%E3%83%96%E3%81%AE%E5%B1%95%E9%96%8B)
    - [圧縮アーカイブの作成と展開](#%E5%9C%A7%E7%B8%AE%E3%82%A2%E3%83%BC%E3%82%AB%E3%82%A4%E3%83%96%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E5%B1%95%E9%96%8B)
    - [ユーザーIDの確認](#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BCid%E3%81%AE%E7%A2%BA%E8%AA%8D)
    - [一時的にrootユーザーに切り替える](#%E4%B8%80%E6%99%82%E7%9A%84%E3%81%ABroot%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AB%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%E3%82%8B)
    - [ユーザーの所属グループを確認する](#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E6%89%80%E5%B1%9E%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B)
    - [ユーザーを作成する](#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B)
    - [ユーザーの削除](#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E5%89%8A%E9%99%A4)
    - [グループを作成する](#%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B)
    - [ユーザーの情報を変更し、グループにユーザーを参加させる](#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E6%83%85%E5%A0%B1%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%97%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AB%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E5%8F%82%E5%8A%A0%E3%81%95%E3%81%9B%E3%82%8B)
    - [グループを削除](#%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E5%89%8A%E9%99%A4)
    - [ファイルやディレクトリの所有者や所有グループを知りたい場合](#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%84%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E6%89%80%E6%9C%89%E8%80%85%E3%82%84%E6%89%80%E6%9C%89%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E7%9F%A5%E3%82%8A%E3%81%9F%E3%81%84%E5%A0%B4%E5%90%88)
    - [chownコマンドを利用して、ファイルやディレクトリの所有者を変更する](#chown%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%84%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E6%89%80%E6%9C%89%E8%80%85%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B)
    - [chgrpコマンドを利用して、ファイルやディレクトリの所有グループを変更する](#chgrp%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%84%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E6%89%80%E6%9C%89%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B)
    - [パーミッション](#%E3%83%91%E3%83%BC%E3%83%9F%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3)
    - [chmodコマンドを利用して、パーミッションを変更する](#chmod%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E3%83%91%E3%83%BC%E3%83%9F%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B)
    - [chmodコマンドのアクセス記号一覧](#chmod%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E8%A8%98%E5%8F%B7%E4%B8%80%E8%A6%A7)
    - [viエディタ](#vi%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF)
    - [/binディレクトリ](#bin%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA)
    - [/devディレクトリ](#dev%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA)
    - [/etcディレクトリ](#etc%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA)
    - [/sbin](#sbin)
    - [/usr](#usr)
    - [/var](#var)
    - [シンボリックリンク](#%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF-1)
    - [存在しないディレクトリも一気に作成したいときはmkdirにpオプション](#%E5%AD%98%E5%9C%A8%E3%81%97%E3%81%AA%E3%81%84%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%82%82%E4%B8%80%E6%B0%97%E3%81%AB%E4%BD%9C%E6%88%90%E3%81%97%E3%81%9F%E3%81%84%E3%81%A8%E3%81%8D%E3%81%AFmkdir%E3%81%ABp%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3)
    - [`/`で検索したときは`n`で次の検索結果`N`で前の検索結果](#%E3%81%A7%E6%A4%9C%E7%B4%A2%E3%81%97%E3%81%9F%E3%81%A8%E3%81%8D%E3%81%AFn%E3%81%A7%E6%AC%A1%E3%81%AE%E6%A4%9C%E7%B4%A2%E7%B5%90%E6%9E%9Cn%E3%81%A7%E5%89%8D%E3%81%AE%E6%A4%9C%E7%B4%A2%E7%B5%90%E6%9E%9C)
    - [cpコマンドで上書き確認するためにはiオプションをつける](#cp%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AB%E3%81%AFi%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%81%A4%E3%81%91%E3%82%8B)
    - [「リンクを張る」とは「ファイルに別名をつける」ということ](#%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E5%BC%B5%E3%82%8B%E3%81%A8%E3%81%AF%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E5%88%A5%E5%90%8D%E3%82%92%E3%81%A4%E3%81%91%E3%82%8B%E3%81%A8%E3%81%84%E3%81%86%E3%81%93%E3%81%A8)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# Linux学習まとめ

## [新しいLinuxの教科書](https://www.amazon.co.jp/dp/B072K1NH76/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)まとめ


### calコマンド
カレンダーを表示するためのコマンド

### manコマンド
マニュアルを表示するコマンド

### システムの終了

`shutdown [オプション] 時間 `

- shutdownコマンドの主なオプション
  - -r: システムの終了後に再起動する
  - -h: システムを終了して停止する
  - -c: 実行中のシャットダウンをキャンセルする

- 直ちにシステムを停止する場合
```
# shutdown -h now
```

- 直ちにシステムを再起動
```
# shutdown -r now
```

- 10分後にシステムを再起動
```
# shutdown -r +10
```
- 22時30分にシステムを再起動
```
# shutdown -r 22:30
```

### ファイルの属性情報
lsコマンドにlオプションをつけて実行すると属性情報を合わせて表示される

```
-rw-r--r-- / 1 / penguin / penguin / 25 / May 14 2013 / diary.txt
```
1. ファイルモード
1. リンク数
1. ファイルの所有者
1. ファイルの所有グループ
1. ファイルサイズ
1. 最終更新日時
1. ファイル名

- ファイルモードの左端の１文字でファイルの種類が判別できる
  - 「-」：通常ファイル
  - 「d」：ディレクトリ
  - 「l」：リンクファイル
  - 「c」：特殊ファイル（キャラクタデバイスファイル）
  - 「b」：特殊ファイル（ブロックデバイスファイル）

### catコマンド
テキストファイルの内容を表示する

```
cat [ファイル名]
```

### lessコマンド
catコマンドでは、１画面に収まりきらない大きなファイルを表示すると、ファイルの先頭のほうはスクロールされてみることができない。そのような場合は、テキストファイルの内容を１ページずつ表示するlessコマンドを使う

```
less [ファイル名]
```

- ↑↓で１行ずつスクロール
- 「space」で１画面先に進む
- 「Q」で終了

### iノード
- 全てのファイルやディレクトリに記されている属性情報。
- ファイルサイズや最終更新日時、アクセス権情報などが記されたいる。
- lsコマンドに-iオプションをつけて実行すると、iノード番号を確認することができる。

### ハードリンク
- iノード番号とファイル名の対応づけをリンクという。
- １つのiノードと複数のファイル名をリンクさせることをハードリンクという。

### lnコマンド
ハードリンクを作成するためのコマンド
```
ln data/images/cat.jpg nelo1.jpg
```

### シンボリックリンク
- ファイルに別名をつける仕組み
- lnコマンドに-sオプションをつけて実行する。

```
ln -s data/images/cat.jpg neko2.jpg
```

### ハードリンクとシンボリックリンクの違い
- シンボリックリンクは元のファイルとiノード番号が異なるのに対し、ハードリンクは変わらない。
- シンボリックファイルはファイルのポインタを格納しているに過ぎないため、元のファイルを削除すると参照できなくなる。

### cpコマンド
別名でコピー
`cp コピー元ファイル名　新ファイル名`

同名でコピー
`cp コピー元ファイル名　コピー先ディレクトリ`


```
-- ファイル/etc/hostsをカレントディレクトリにmyhostsという名前でコピー
$ cp /etc/hosts myhosts
```

### mvコマンド
移動
`mv 移動元ファイル名 移動先ディレクトリ`

名前変更
`mv 元ファイル名 新ファイル名`

```
-- myhostsファイルを/tmpディレクトリ以下に移動
$ mv myhosts /tmp
```
### mkdirコマンド
複数階層のディレクトリを作成
`$ mkdir -p top/sub`

### ディレクトリのコピーと移動
ディレクトリのコピーの時はcpコマンドに-rオプションをつけなければならない。
```
-- topディレクトリを/tmpディレクトリ以下にコピー
$ cp -r top /tmp

-- ディレクトリ名の変更(topディレクトリをnewディレクトリに変更)
$ mv top new
```

### ディレクトリの削除
rmコマンドに-rオプションをつける
`$ rm -r new`

### gzipコマンド
gzip形式でファイルを圧縮するためのコマンド
`gzip ファイル名`

### gunzipコマンド
gzip形式で圧縮されたファイルを解凍するコマンド
`gunzip 圧縮ファイル名`

### ディレクトリの圧縮
- gzipコマンドではディレクトリの圧縮はできない。
- ディレクトリ内のファイルやサブディレクトリをディレクトリごと圧縮するには、まず、`tarコマンド`を使って１つのファイルにまとめる。
- このように複数のファイルをまとめたファイルを**アーカイブ**という。

#### アーカイブの作成
アーカイブを作成するには`tarコマンド`で`cvfオプション`を指定する

`tar cvf アーカイブファイル名 対象のディレクトリ名`

- cオプション: アーカイブの作成を意味する
- vオプション: 処理内容の情報の出力を意味する
- fオプション: アーカイブファイル名の指定を意味する

#### アーカイブの展開
`tar xvf アーカイブファイル名`

### 圧縮アーカイブの作成と展開
tarコマンドだけで圧縮アーカイブの作成や展開を行うことが可能。

`tar czvf アーカイブファイル名　対象のディレクトリ名`
`tar xzvf アーカイブファイル名`

- zオプション: gzip圧縮を利用する

### ユーザーIDの確認
- ユーザーには固有のIDが割り振られている。確認方法は以下の通り
`id [ユーザー名]`

### 一時的にrootユーザーに切り替える
`su -`

### ユーザーの所属グループを確認する
`groups [ユーザー名]`

### ユーザーを作成する
- rootユーザーのみがユーザーを作成できる
`useradd [ユーザー名]`
- 作成されたばかりのユーザーにはパスワードが作成されていないので、以下のコマンドでパスワードを設定する
`passwd [ユーザー名]`

### ユーザーの削除
- 以下のコマンドでは`/etc/passwd`のユーザーエントリは削除されるが、ホームディレクトリは残る
`userdel [ユーザー名]`
- rオプションをつけることで、ホームディレクトリごと削除できる
`userdel -r [ユーザー名]`

### グループを作成する
`groupadd [グループ名]`

### ユーザーの情報を変更し、グループにユーザーを参加させる
`usermod -G [グループ名] [ユーザー名]`

### グループを削除
`groupdel [グループ名]`

### ファイルやディレクトリの所有者や所有グループを知りたい場合
`ls -l [ファイル名やディレクトリ名]`

### chownコマンドを利用して、ファイルやディレクトリの所有者を変更する
`chown [-R] [新しい所有者名] [ファイル名またはディレクトリ名]`
- `-R`オプションをつけると対象のディレクトリ内のファイルやサブディレクトリの所有者をまとめて変更できる

### chgrpコマンドを利用して、ファイルやディレクトリの所有グループを変更する
`chgrp [-R] [新しいグループ名] [ファイル名またはディレクトリ名]`
- `-R`オプションをつけると対象のディレクトリ内のファイルやサブディレクトリの所有グループをまとめて変更できる

### パーミッション
- r: 読み取り権 = 4
- w: 書き込み権 = 2
- x: 実行権 = 1

### chmodコマンドを利用して、パーミッションを変更する
`chmod [-R] [変更後のアクセス権] [ファイル名またはディレクトリ名]`
- Rオプションをつけると、指定したディレクトリ以下全てのファイルのアクセス権を変更することができる
- 例：diary.txtファイルのパーミッションを644に設定 `chmod 644 diary.txt`
- 例: diary.txtファイルに所有グループの書き込み権を追加 `chmod g+w diary.txt`
- 例: dataディレクトリから所有者以外の実行権を削除 `chmod go-x data`

### chmodコマンドのアクセス記号一覧
- u: 所有者
- g: 所有グループ
- o: その他のユーザー
- a: 全てのユーザー
- +: 権限を追加する
- -: 権限を削除する
- =: 権限を指定する
- rwxは省略

### viエディタ
- コマンドモード
  - `0`: 行頭へ移動
  - `$`: 行末へ移動
  - `gg`: ファイルの先頭に移動する
  - `G`: ファイルの末尾に移動する
- 編集操作
  - `dd`: 現在カーソルがある行を切り取る
  - `yy`: 現在カーソルがある行をコピーする
  - `p`: カーソルの次の行にバッファの内容を貼り付ける
  - `u`: 直前の操作を取り消し

### /binディレクトリ
linuxシステムに最低限必要なコマンドの実行ファイルが置いてある

### /devディレクトリ
デバイスファイルを格納するディレクトリ

### /etcディレクトリ
linux上で動作するアプリケーションの設定ファイルを格納するディレクトリ

### /sbin
shutdownコマンドなど管理者ユーザー向けのコマンド実行ファイルが格納されている

### /usr
各種アプリケーションとそれに付随するファイルを置くためのディレクトリ

### /var
アプリケーションを動作する上で変化するデータなどが格納されているディレクトリ

### シンボリックリンク
LinuxなどのUnix系OSにおけるショートカットのこと
- https://wa3.i-3-i.info/word1151.html

### 存在しないディレクトリも一気に作成したいときはmkdirにpオプション

### `/`で検索したときは`n`で次の検索結果`N`で前の検索結果

### cpコマンドで上書き確認するためにはiオプションをつける

### 「リンクを張る」とは「ファイルに別名をつける」ということ
- ハードリンク: 一つのファイルに複数の名前をつけて、複数のファイル名でアクセスできる
- シンボリックリンク: `ln`コマンドに`-s`オプションをつけると作成できる。ショートカットみたいなもの。
